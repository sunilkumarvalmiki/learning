apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: ai-knowledge
  labels:
    app: backend-api
data:
  postgres.host: "postgres"
  postgres.port: "5432"
  postgres.database: "knowledge_db"
  qdrant.url: "http://qdrant:6333"
  neo4j.uri: "bolt://neo4j:7687"
  minio.endpoint: "minio"
  minio.port: "9000"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: frontend-config
  namespace: ai-knowledge
  labels:
    app: frontend-ui
data:
  api.url: "http://backend-api:8080"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: postgres-init-scripts
  namespace: ai-knowledge
  labels:
    app: postgres
data:
  01-init.sql: |
    -- Enable pgvector extension
    CREATE EXTENSION IF NOT EXISTS vector;

    -- Create initial schema
    CREATE SCHEMA IF NOT EXISTS ai_knowledge;

    -- Set default search path
    ALTER DATABASE knowledge_db SET search_path TO ai_knowledge, public;
